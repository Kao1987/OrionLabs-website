{"numTotalTestSuites":43,"numPassedTestSuites":33,"numFailedTestSuites":10,"numPendingTestSuites":0,"numTotalTests":83,"numPassedTests":76,"numFailedTests":7,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1756687326044,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","POST /auth/login"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts POST /auth/login should accept valid login payload and return user + token","status":"passed","title":"should accept valid login payload and return user + token","duration":20.98849999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","POST /auth/login"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts POST /auth/login should return 401 with error structure for invalid credentials","status":"passed","title":"should return 401 with error structure for invalid credentials","duration":4.681999999999903,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","POST /auth/login"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts POST /auth/login should return 422 for validation errors","status":"passed","title":"should return 422 for validation errors","duration":2.3094160000000556,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","POST /auth/logout"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts POST /auth/logout should accept logout request and return success","status":"passed","title":"should accept logout request and return success","duration":2.360416999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","POST /auth/logout"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts POST /auth/logout should handle logout when already logged out","status":"passed","title":"should handle logout when already logged out","duration":1.44987500000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","GET /auth/me"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts GET /auth/me should return user profile for valid token","status":"passed","title":"should return user profile for valid token","duration":1.1716669999999567,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Auth API Contracts","GET /auth/me"],"fullName":"API Contract Tests (MSW Layer) Auth API Contracts GET /auth/me should return 401 for expired/invalid token","status":"passed","title":"should return 401 for expired/invalid token","duration":1.036958000000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Blog API Contracts","GET /blog/posts"],"fullName":"API Contract Tests (MSW Layer) Blog API Contracts GET /blog/posts should return paginated blog posts list","status":"failed","title":"should return paginated blog posts list","duration":5005.10275,"failureMessages":["Error: STACK_TRACE_ERROR\n    at task (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:638:27)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:662:16)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:458:28)\n    at chain (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:369:14)\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api-contract.spec.ts:242:7\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:40\n    at runWithSuite (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1849:8)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:10)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at collectTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1179:25)\n    at startTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1817:17)\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:117:26"],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Blog API Contracts","GET /blog/posts"],"fullName":"API Contract Tests (MSW Layer) Blog API Contracts GET /blog/posts should handle search and filter parameters","status":"failed","title":"should handle search and filter parameters","duration":5002.075791000001,"failureMessages":["Error: STACK_TRACE_ERROR\n    at task (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:638:27)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:662:16)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:458:28)\n    at chain (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:369:14)\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api-contract.spec.ts:293:7\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:40\n    at runWithSuite (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1849:8)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:10)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at collectTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1179:25)\n    at startTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1817:17)\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:117:26"],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Blog API Contracts","POST /blog/posts"],"fullName":"API Contract Tests (MSW Layer) Blog API Contracts POST /blog/posts should create new blog post with valid payload","status":"failed","title":"should create new blog post with valid payload","duration":5002.537209,"failureMessages":["Error: STACK_TRACE_ERROR\n    at task (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:638:27)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:662:16)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:458:28)\n    at chain (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:369:14)\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api-contract.spec.ts:330:7\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:40\n    at runWithSuite (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1849:8)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:10)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at collectTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1179:25)\n    at startTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1817:17)\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:117:26"],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Portfolio API Contracts","GET /portfolio/projects"],"fullName":"API Contract Tests (MSW Layer) Portfolio API Contracts GET /portfolio/projects should return projects list with proper structure","status":"failed","title":"should return projects list with proper structure","duration":5003.089916000001,"failureMessages":["Error: STACK_TRACE_ERROR\n    at task (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:638:27)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:662:16)\n    at Object.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:458:28)\n    at chain (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:369:14)\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api-contract.spec.ts:380:7\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:40\n    at runWithSuite (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1849:8)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:734:10)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at Object.collect (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:738:46)\n    at collectTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1179:25)\n    at startTests (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:1817:17)\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:117:26"],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Error Response Contracts"],"fullName":"API Contract Tests (MSW Layer) Error Response Contracts should handle 500 server errors with consistent structure","status":"passed","title":"should handle 500 server errors with consistent structure","duration":3.3852499999993597,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Error Response Contracts"],"fullName":"API Contract Tests (MSW Layer) Error Response Contracts should handle network timeouts appropriately","status":"failed","title":"should handle network timeouts appropriately","duration":6.397375000000466,"failureMessages":["AssertionError: expected [Function] to throw error including 'The operation was aborted' but got 'RequestInit: Expected signal (\"AbortS…'\n    at _Assertion.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at _Assertion.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at _Assertion.methodWrapper (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/chai/chai.js:1706:25)\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1639:20\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api-contract.spec.ts:464:7\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["API Contract Tests (MSW Layer)","Error Response Contracts"],"fullName":"API Contract Tests (MSW Layer) Error Response Contracts should handle rate limiting (429) responses","status":"passed","title":"should handle rate limiting (429) responses","duration":2.193542000000889,"failureMessages":[],"meta":{}}],"startTime":1756687326684,"endTime":1756687346744.1936,"status":"failed","message":"","name":"/Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api-contract.spec.ts"},{"assertionResults":[{"ancestorTitles":["TokenManager","setToken"],"fullName":"TokenManager setToken should store token with default expiry (24 hours)","status":"passed","title":"should store token with default expiry (24 hours)","duration":1.2802920000000313,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","setToken"],"fullName":"TokenManager setToken should store token with remember me (30 days)","status":"passed","title":"should store token with remember me (30 days)","duration":0.12116700000001401,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","setToken"],"fullName":"TokenManager setToken should store token with custom expiry","status":"passed","title":"should store token with custom expiry","duration":0.08120800000006057,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","setToken"],"fullName":"TokenManager setToken should set last login time","status":"passed","title":"should set last login time","duration":0.06829200000004221,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getToken"],"fullName":"TokenManager getToken should return stored token","status":"passed","title":"should return stored token","duration":0.06916700000010678,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getToken"],"fullName":"TokenManager getToken should return null when no token stored","status":"passed","title":"should return null when no token stored","duration":0.22366699999997763,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getTokenType"],"fullName":"TokenManager getTokenType should return stored token type","status":"passed","title":"should return stored token type","duration":0.1237500000000864,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getTokenType"],"fullName":"TokenManager getTokenType should return default Bearer when no type stored","status":"passed","title":"should return default Bearer when no type stored","duration":0.06574999999997999,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isTokenExpired"],"fullName":"TokenManager isTokenExpired should return true when no expiry set","status":"passed","title":"should return true when no expiry set","duration":0.07950000000005275,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isTokenExpired"],"fullName":"TokenManager isTokenExpired should return true when token expired","status":"passed","title":"should return true when token expired","duration":0.10387499999990268,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isTokenExpired"],"fullName":"TokenManager isTokenExpired should return false when token not expired","status":"passed","title":"should return false when token not expired","duration":0.05683299999998326,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","hasValidToken"],"fullName":"TokenManager hasValidToken should return false when no token","status":"passed","title":"should return false when no token","duration":0.04924999999991542,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","hasValidToken"],"fullName":"TokenManager hasValidToken should return false when token expired","status":"passed","title":"should return false when token expired","duration":0.04716700000005858,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","hasValidToken"],"fullName":"TokenManager hasValidToken should return true when token valid","status":"passed","title":"should return true when token valid","duration":0.04283300000008694,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isRecentLogin"],"fullName":"TokenManager isRecentLogin should return false when no last login","status":"passed","title":"should return false when no last login","duration":0.04866600000002563,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isRecentLogin"],"fullName":"TokenManager isRecentLogin should return false when login more than 24 hours ago","status":"passed","title":"should return false when login more than 24 hours ago","duration":0.11154099999998834,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isRecentLogin"],"fullName":"TokenManager isRecentLogin should return true when login within 24 hours","status":"passed","title":"should return true when login within 24 hours","duration":0.047832999999968706,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getRemainingTime"],"fullName":"TokenManager getRemainingTime should return 0 when no expiry","status":"passed","title":"should return 0 when no expiry","duration":0.06099999999992178,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getRemainingTime"],"fullName":"TokenManager getRemainingTime should return 0 when expired","status":"passed","title":"should return 0 when expired","duration":0.04475000000002183,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","getRemainingTime"],"fullName":"TokenManager getRemainingTime should return remaining minutes","status":"passed","title":"should return remaining minutes","duration":0.048125000000027285,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","clearToken"],"fullName":"TokenManager clearToken should remove all token related data","status":"passed","title":"should remove all token related data","duration":0.08999999999991815,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isRemembered"],"fullName":"TokenManager isRemembered should return false by default","status":"passed","title":"should return false by default","duration":0.05683299999998326,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isRemembered"],"fullName":"TokenManager isRemembered should return true when remember me is set","status":"passed","title":"should return true when remember me is set","duration":0.05437500000005002,"failureMessages":[],"meta":{}},{"ancestorTitles":["TokenManager","isRemembered"],"fullName":"TokenManager isRemembered should return false when remember me is false","status":"passed","title":"should return false when remember me is false","duration":0.0809999999999036,"failureMessages":[],"meta":{}},{"ancestorTitles":["CacheManager","set and get"],"fullName":"CacheManager set and get should store and retrieve data","status":"passed","title":"should store and retrieve data","duration":0.44154100000002927,"failureMessages":[],"meta":{}},{"ancestorTitles":["CacheManager","set and get"],"fullName":"CacheManager set and get should return null for non-existent key","status":"passed","title":"should return null for non-existent key","duration":0.05150000000003274,"failureMessages":[],"meta":{}},{"ancestorTitles":["CacheManager","set and get"],"fullName":"CacheManager set and get should return null for expired data","status":"passed","title":"should return null for expired data","duration":0.04966699999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["CacheManager","set and get"],"fullName":"CacheManager set and get should return data within TTL","status":"passed","title":"should return data within TTL","duration":0.04695800000001782,"failureMessages":[],"meta":{}},{"ancestorTitles":["CacheManager","delete"],"fullName":"CacheManager delete should remove specific key","status":"passed","title":"should remove specific key","duration":0.05733399999996891,"failureMessages":[],"meta":{}},{"ancestorTitles":["CacheManager","clear"],"fullName":"CacheManager clear should remove all cached data","status":"passed","title":"should remove all cached data","duration":0.04737499999998818,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","參數處理"],"fullName":"apiRequest 參數處理 should construct correct URL with endpoint","status":"passed","title":"should construct correct URL with endpoint","duration":3.2692919999999503,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","參數處理"],"fullName":"apiRequest 參數處理 should merge headers correctly","status":"passed","title":"should merge headers correctly","duration":0.3834999999999127,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","參數處理"],"fullName":"apiRequest 參數處理 should include auth headers when token exists","status":"passed","title":"should include auth headers when token exists","duration":0.3177500000000464,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","超時控制"],"fullName":"apiRequest 超時控制 should abort request after timeout","status":"passed","title":"should abort request after timeout","duration":1.1242079999999532,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","超時控制"],"fullName":"apiRequest 超時控制 should handle AbortError correctly","status":"passed","title":"should handle AbortError correctly","duration":0.5457910000000084,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","重試機制"],"fullName":"apiRequest 重試機制 should not retry on non-network errors","status":"passed","title":"should not retry on non-network errors","duration":0.3713749999999436,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","重試機制"],"fullName":"apiRequest 重試機制 should handle network errors without retries in this test","status":"passed","title":"should handle network errors without retries in this test","duration":0.1881670000000213,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle 401 status correctly","status":"passed","title":"should handle 401 status correctly","duration":0.16508299999998144,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle 403 status correctly","status":"passed","title":"should handle 403 status correctly","duration":0.12483300000008057,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle 404 status correctly","status":"passed","title":"should handle 404 status correctly","duration":0.12162499999999454,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle 429 status correctly","status":"passed","title":"should handle 429 status correctly","duration":0.10924999999997453,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle 500 status correctly","status":"passed","title":"should handle 500 status correctly","duration":0.11525000000006003,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle JSON parse errors","status":"passed","title":"should handle JSON parse errors","duration":1.271333000000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","錯誤映射"],"fullName":"apiRequest 錯誤映射 should handle network errors (TypeError)","status":"passed","title":"should handle network errors (TypeError)","duration":0.20841700000005403,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","認證處理"],"fullName":"apiRequest 認證處理 should clear token on 401 for non-login endpoints","status":"passed","title":"should clear token on 401 for non-login endpoints","duration":0.17391600000007656,"failureMessages":[],"meta":{}},{"ancestorTitles":["apiRequest","認證處理"],"fullName":"apiRequest 認證處理 should not clear token on 401 for login endpoint","status":"passed","title":"should not clear token on 401 for login endpoint","duration":0.16562499999997726,"failureMessages":[],"meta":{}},{"ancestorTitles":["unifiedFetch"],"fullName":"unifiedFetch should call fetch with correct parameters","status":"failed","title":"should call fetch with correct parameters","duration":5.639332999999965,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ '/test-endpoint', …(1) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  [\u001b[22m\n\u001b[32m-   \"/test-endpoint\",\u001b[90m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"headers\": ObjectContaining {\u001b[90m\n\u001b[31m+   \"http://161.33.209.198:8000/test-endpoint\",\u001b[90m\n\u001b[31m+   {\u001b[90m\n\u001b[31m+     \"headers\": {\u001b[90m\n\u001b[2m        \"Content-Type\": \"application/json\",\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/chai/chai.js:1706:25)\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api.spec.ts:505:22\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["unifiedFetch"],"fullName":"unifiedFetch should merge options correctly","status":"failed","title":"should merge options correctly","duration":0.6215829999999869,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ '/test', ObjectContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  [\u001b[22m\n\u001b[32m-   \"/test\",\u001b[90m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[31m+   \"http://161.33.209.198:8000/test\",\u001b[90m\n\u001b[31m+   {\u001b[90m\n\u001b[2m      \"body\": \"{\\\"test\\\":\\\"data\\\"}\",\u001b[22m\n\u001b[32m-     \"headers\": ObjectContaining {\u001b[90m\n\u001b[31m+     \"headers\": {\u001b[90m\n\u001b[2m        \"Custom\": \"header\",\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"method\": \"POST\",\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/chai/chai.js:1706:25)\n    at /Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api.spec.ts:526:22\n    at file:///Users/hong-yikao/Documents/Orionlabs/orionlabs-website/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1756687326684,"endTime":1756687326703.6216,"status":"failed","message":"","name":"/Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/services/api.spec.ts"},{"assertionResults":[{"ancestorTitles":["useAuthStore","初始狀態"],"fullName":"useAuthStore 初始狀態 should have correct initial state","status":"passed","title":"should have correct initial state","duration":2.0787500000000136,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","初始狀態"],"fullName":"useAuthStore 初始狀態 should load token from localStorage on initialization","status":"passed","title":"should load token from localStorage on initialization","duration":0.3373750000000655,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","computed getters (按您的規範：輸入→輸出驗證)"],"fullName":"useAuthStore computed getters (按您的規範：輸入→輸出驗證) isAuthenticated should return true when both token and user exist","status":"passed","title":"isAuthenticated should return true when both token and user exist","duration":0.2820409999999356,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","computed getters (按您的規範：輸入→輸出驗證)"],"fullName":"useAuthStore computed getters (按您的規範：輸入→輸出驗證) isAuthenticated should return false when token missing","status":"passed","title":"isAuthenticated should return false when token missing","duration":0.15770799999995688,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","computed getters (按您的規範：輸入→輸出驗證)"],"fullName":"useAuthStore computed getters (按您的規範：輸入→輸出驗證) isAuthenticated should return false when user missing","status":"passed","title":"isAuthenticated should return false when user missing","duration":0.1791249999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","computed getters (按您的規範：輸入→輸出驗證)"],"fullName":"useAuthStore computed getters (按您的規範：輸入→輸出驗證) isAdmin should return true for admin role","status":"passed","title":"isAdmin should return true for admin role","duration":0.2587499999999636,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","computed getters (按您的規範：輸入→輸出驗證)"],"fullName":"useAuthStore computed getters (按您的規範：輸入→輸出驗證) isAdmin should return false for non-admin role","status":"passed","title":"isAdmin should return false for non-admin role","duration":0.13737500000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","computed getters (按您的規範：輸入→輸出驗證)"],"fullName":"useAuthStore computed getters (按您的規範：輸入→輸出驗證) hasError should return true when error exists","status":"passed","title":"hasError should return true when error exists","duration":0.47137499999996635,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","錯誤處理 actions"],"fullName":"useAuthStore 錯誤處理 actions setError should set error state","status":"passed","title":"setError should set error state","duration":0.46325000000001637,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","錯誤處理 actions"],"fullName":"useAuthStore 錯誤處理 actions clearError should clear error state","status":"passed","title":"clearError should clear error state","duration":0.1469160000000329,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","login action (按您的規範：直接 await)"],"fullName":"useAuthStore login action (按您的規範：直接 await) should login successfully","status":"passed","title":"should login successfully","duration":1.0311669999999822,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","login action (按您的規範：直接 await)"],"fullName":"useAuthStore login action (按您的規範：直接 await) should handle login failure","status":"passed","title":"should handle login failure","duration":0.2587499999999636,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","login action (按您的規範：直接 await)"],"fullName":"useAuthStore login action (按您的規範：直接 await) should handle network errors during login","status":"passed","title":"should handle network errors during login","duration":0.19804099999998925,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","login action (按您的規範：直接 await)"],"fullName":"useAuthStore login action (按您的規範：直接 await) should set loading states during login","status":"passed","title":"should set loading states during login","duration":0.17341699999997218,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","logout action"],"fullName":"useAuthStore logout action should logout successfully","status":"passed","title":"should logout successfully","duration":0.21737499999994725,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","logout action"],"fullName":"useAuthStore logout action should clear local state even if logout API fails","status":"passed","title":"should clear local state even if logout API fails","duration":0.13474999999993997,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","checkAuth action"],"fullName":"useAuthStore checkAuth action should return false when no token","status":"passed","title":"should return false when no token","duration":0.17641700000001492,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","checkAuth action"],"fullName":"useAuthStore checkAuth action should verify token and set user on success","status":"passed","title":"should verify token and set user on success","duration":0.2207499999999527,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","checkAuth action"],"fullName":"useAuthStore checkAuth action should handle 401 error and clear token","status":"passed","title":"should handle 401 error and clear token","duration":2.6556659999999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","checkAuth action"],"fullName":"useAuthStore checkAuth action should handle network errors and clear state","status":"passed","title":"should handle network errors and clear state","duration":0.36770899999999074,"failureMessages":[],"meta":{}},{"ancestorTitles":["useAuthStore","反應性依賴 (§R-2 規範遵循)"],"fullName":"useAuthStore 反應性依賴 (§R-2 規範遵循) computed values should update when dependencies change","status":"passed","title":"computed values should update when dependencies change","duration":0.22720800000001873,"failureMessages":[],"meta":{}}],"startTime":1756687326684,"endTime":1756687326695.2273,"status":"passed","message":"","name":"/Users/hong-yikao/Documents/Orionlabs/orionlabs-website/tests/unit/stores/auth.spec.ts"}]}